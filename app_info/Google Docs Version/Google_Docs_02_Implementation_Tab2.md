# TAB 2: Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± | Testing Strategy

## 8. Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± | Testing Strategy
### ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„Ø© Ù„Ø¶Ù…Ø§Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯ ÙˆÙ…Ù†Ø¹ Ø§Ù„ØªØ±Ø§Ø¬Ø¹

---

## ğŸ¯ **Ø§Ù„Ù‡Ø¯Ù | Objective**
ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„Ø© Ù„Ø¶Ù…Ø§Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯ ÙˆÙ…Ù†Ø¹ Ø§Ù„ØªØ±Ø§Ø¬Ø¹ ÙˆØ§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø¹Ø¨Ø± Ø¬Ù…ÙŠØ¹ Ù…ÙŠØ²Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.

## ğŸ“‹ **Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© | Rule**
**Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©**: Ù‡Ø±ÙÙ… Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª: Unit (Use-cases, Repos), Widget (Screens), Integration (Ø±Ø­Ù„Ø© Ø´Ø±Ø§Ø¡)  
**English**: Test pyramid: Unit (Use-cases, Repos), Widget (Screens), Integration (purchase journey)

## ğŸ’¡ **Ø§Ù„ÙÙˆØ§Ø¦Ø¯ | Benefits**
- **Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© | Quality Assurance**: Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù‚Ø¨Ù„ ÙˆØµÙˆÙ„Ù‡Ø§ Ù„Ù„Ø¥Ù†ØªØ§Ø¬
- **Ù…Ù†Ø¹ Ø§Ù„ØªØ±Ø§Ø¬Ø¹ | Regression Prevention**: Ø¶Ù…Ø§Ù† Ø£Ù† Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù„Ø§ ØªÙƒØ³Ø± Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
- **Ø§Ù„ØªÙˆØ«ÙŠÙ‚ | Documentation**: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ®Ø¯Ù… ÙƒØªÙˆØ«ÙŠÙ‚ Ø­ÙŠ
- **Ø§Ù„Ø«Ù‚Ø© | Confidence**: Ù†Ø´Ø± Ø¨Ø«Ù‚Ø© Ù…Ø¹ Ù…Ø¹Ø±ÙØ© Ø£Ù† Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¹Ù…Ù„
- **Ø£Ù…Ø§Ù† Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù‡ÙŠÙƒÙ„Ø© | Refactoring Safety**: Ø¢Ù…Ù† Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù‡ÙŠÙƒÙ„Ø© Ù…Ø¹ ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
- **ØªØ¹Ø§ÙˆÙ† Ø§Ù„ÙØ±ÙŠÙ‚ | Team Collaboration**: ØªÙˆÙ‚Ø¹Ø§Øª ÙˆÙ…Ø¹Ø§ÙŠÙŠØ± ÙˆØ§Ø¶Ø­Ø©

## ğŸ› ï¸ **Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | Implementation**
- **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ**: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§ØªØŒ Ø®Ø§ØµØ© Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø­Ø±Ø¬
- **ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚**:
  - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ­Ø¯Ø© Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ (70% ØªØºØ·ÙŠØ©)
  - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª widget Ù„Ù…ÙƒÙˆÙ†Ø§Øª UI
  - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙƒØ§Ù…Ù„ Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø°Ù‡Ø¨ÙŠØ© Ù„Ù„Ø§ØªØ³Ø§Ù‚ Ø§Ù„Ø¨ØµØ±ÙŠ
  - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø£Ø¯Ø§Ø¡ Ù„Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©
- **Ø§Ù„Ù†ØªÙŠØ¬Ø©**: Ù‚Ø§Ø¹Ø¯Ø© ÙƒÙˆØ¯ Ù…ÙˆØ«ÙˆÙ‚Ø© ÙˆÙ‚Ø§Ø¨Ù„Ø© Ù„Ù„ØµÙŠØ§Ù†Ø© Ø¨Ø«Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©

## ğŸ¯ **Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© | Specific Priorities**

### **Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ø®Ø§ØµØ© Ø¨Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± | Testing Strategy Specific Priorities:**
#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ø£Ø³Ø§Ø³ | Phase 1: Foundation**
- **ğŸ”´ Ø­Ø±Ø¬**: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª
- **ğŸ”´ Ø­Ø±Ø¬**: ØªØ·Ø¨ÙŠÙ‚ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ­Ø¯Ø© Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª widget Ù„Ù…ÙƒÙˆÙ†Ø§Øª UI

#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªØ­Ø³ÙŠÙ† | Phase 2: Enhancement**
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙƒØ§Ù…Ù„ Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: ØªØ·Ø¨ÙŠÙ‚ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø°Ù‡Ø¨ÙŠØ© Ù„Ù„Ø§ØªØ³Ø§Ù‚ Ø§Ù„Ø¨ØµØ±ÙŠ
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„

#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ù„ØªØ­Ø³ÙŠÙ† | Phase 3: Optimization**
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: Ø£Ù†Ù…Ø§Ø· Ø§Ø®ØªØ¨Ø§Ø± Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆØ£ØªÙ…ØªØ©
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: ØªÙˆÙ„ÙŠØ¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
- **ğŸŸ¢ Ù…Ù†Ø®ÙØ¶**: Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø£Ø¯Ø§Ø¡ ÙˆØ£Ù…Ø§Ù† Ù…ØªÙ‚Ø¯Ù…Ø©

## ğŸ“ˆ **Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­ | Success Metrics**

### **Testing Strategy Specific Metrics:**
- **Test Coverage**: >90% code coverage
- **Test Execution**: <5 minutes for full test suite
- **Bug Detection**: 95%+ bugs caught before production
- **Test Reliability**: <1% flaky tests
- **Documentation**: 100% test documentation coverage
- **Automation**: 100% automated test execution

## âš ï¸ **Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙˆØ£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª | Common Pitfalls & Best Practices**

### **Testing Strategy Specific Pitfalls:**
- **Avoid**: Testing implementation details instead of behavior
- **Avoid**: Over-mocking and brittle tests
- **Avoid**: Missing edge cases and error scenarios
- **Avoid**: Slow and unreliable tests
- **Avoid**: Poor test organization and maintenance

### **Best Practices:**
- **Use**: Test pyramid approach (70% unit, 20% widget, 10% integration)
- **Use**: Behavior-driven testing (BDD) approach
- **Use**: Comprehensive mocking and test data
- **Use**: Continuous integration and automated testing
- **Use**: Clear test naming and documentation

## ğŸ§ª **Ù‡Ø±Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª | Test Pyramid**

### **1. Test Distribution | ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª**
```
    /\
   /  \     E2E Tests (5%)
  /____\    - Critical user journeys
 /      \   
/        \  Integration Tests (15%)
/__________\ - API integration
/            \ - Feature integration
/              \
/                \ Widget Tests (20%)
/__________________\ - UI components
/                    \ - User interactions
/                      \
/                        \ Unit Tests (60%)
/__________________________\ - Business logic
                            - Use cases
                            - Repositories
                            - Services
```

### **2. Test Coverage Targets | Ø£Ù‡Ø¯Ø§Ù ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±**
- **Unit Tests**: 70% coverage (business logic, use cases, repositories)
- **Widget Tests**: 20% coverage (UI components, user interactions)
- **Integration Tests**: 15% coverage (API integration, feature flows)
- **E2E Tests**: 5% coverage (critical user journeys)

## ğŸ”¬ **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ­Ø¯Ø© | Unit Testing**

### **1. Use Case Testing | Ø§Ø®ØªØ¨Ø§Ø± Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…**
```dart
// test/features/products/domain/usecases/get_products_usecase_test.dart
void main() {
  group('GetProductsUseCase', () {
    late GetProductsUseCase useCase;
    late MockProductRepository mockRepository;

    setUp(() {
      mockRepository = MockProductRepository();
      useCase = GetProductsUseCase(mockRepository);
    });

    test('should return products when repository call is successful', () async {
      // Arrange
      const products = [sampleProduct1, sampleProduct2];
      when(mockRepository.getProducts())
          .thenAnswer((_) async => const Success(products));

      // Act
      final result = await useCase.call();

      // Assert
      expect(result, isA<Success<List<Product>>>());
      expect((result as Success).data, equals(products));
      verify(mockRepository.getProducts());
      verifyNoMoreInteractions(mockRepository);
    });

    test('should return failure when repository call fails', () async {
      // Arrange
      const error = NetworkError('Network error');
      when(mockRepository.getProducts())
          .thenAnswer((_) async => const Failure(error));

      // Act
      final result = await useCase.call();

      // Assert
      expect(result, isA<Failure<List<Product>>>());
      expect((result as Failure).error, equals(error));
      verify(mockRepository.getProducts());
    });

    test('should validate input parameters', () async {
      // Act
      final result = await useCase.call(limit: -1);

      // Assert
      expect(result, isA<Failure<List<Product>>>());
      expect((result as Failure).error, isA<ValidationError>());
      verifyNever(mockRepository.getProducts());
    });
  });
}
```

### **2. Repository Testing | Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª**
```dart
// test/features/products/data/repositories/product_repository_impl_test.dart
void main() {
  group('ProductRepositoryImpl', () {
    late ProductRepositoryImpl repository;
    late MockProductRemoteDataSource mockRemoteDataSource;
    late MockProductLocalDataSource mockLocalDataSource;
    late MockNetworkInfo mockNetworkInfo;

    setUp(() {
      mockRemoteDataSource = MockProductRemoteDataSource();
      mockLocalDataSource = MockProductLocalDataSource();
      mockNetworkInfo = MockNetworkInfo();
      
      repository = ProductRepositoryImpl(
        remoteDataSource: mockRemoteDataSource,
        localDataSource: mockLocalDataSource,
        networkInfo: mockNetworkInfo,
      );
    });

    test('should return remote data when network is available', () async {
      // Arrange
      when(mockNetworkInfo.isConnected).thenAnswer((_) async => true);
      when(mockRemoteDataSource.getProducts())
          .thenAnswer((_) async => const Success(sampleProducts));

      // Act
      final result = await repository.getProducts();

      // Assert
      expect(result, isA<Success<List<Product>>>());
      expect((result as Success).data, equals(sampleProducts));
      verify(mockRemoteDataSource.getProducts());
      verify(mockLocalDataSource.cacheProducts(sampleProducts));
    });

    test('should return cached data when network is unavailable', () async {
      // Arrange
      when(mockNetworkInfo.isConnected).thenAnswer((_) async => false);
      when(mockLocalDataSource.getCachedProducts())
          .thenAnswer((_) async => sampleProducts);

      // Act
      final result = await repository.getProducts();

      // Assert
      expect(result, isA<Success<List<Product>>>());
      expect((result as Success).data, equals(sampleProducts));
      verify(mockLocalDataSource.getCachedProducts());
      verifyNever(mockRemoteDataSource.getProducts());
    });
  });
}
```

### **3. Service Testing | Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª**
```dart
// test/core/services/pricing_service_test.dart
void main() {
  group('PricingService', () {
    test('should calculate subtotal correctly', () {
      // Arrange
      const items = [
        OrderItem(productId: '1', price: 100.0, quantity: 2),
        OrderItem(productId: '2', price: 50.0, quantity: 1),
      ];

      // Act
      final subtotal = PricingService.calculateSubtotal(items);

      // Assert
      expect(subtotal, equals(250.0));
    });

    test('should calculate tax correctly', () {
      // Act
      final tax = PricingService.calculateTax(100.0, taxRate: 0.1);

      // Assert
      expect(tax, equals(10.0));
    });

    test('should calculate shipping correctly', () {
      // Act
      final shipping1 = PricingService.calculateShipping(50.0);
      final shipping2 = PricingService.calculateShipping(150.0);

      // Assert
      expect(shipping1, equals(10.0));
      expect(shipping2, equals(0.0));
    });
  });
}
```

## ğŸ–¼ï¸ **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ù†Ø§ØµØ± | Widget Testing**

### **1. Component Testing | Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª**
```dart
// test/shared/widgets/app_button_test.dart
void main() {
  group('AppButton', () {
    testWidgets('should render button with text', (tester) async {
      // Arrange
      const buttonText = 'Test Button';

      // Act
      await tester.pumpWidget(
        createTestableWidget(
          AppButton(
            text: buttonText,
            onPressed: () {},
          ),
        ),
      );

      // Assert
      expect(find.text(buttonText), findsOneWidget);
      expect(find.byType(ElevatedButton), findsOneWidget);
    });

    testWidgets('should show loading state', (tester) async {
      // Act
      await tester.pumpWidget(
        createTestableWidget(
          AppButton(
            text: 'Test Button',
            isLoading: true,
          ),
        ),
      );

      // Assert
      expect(find.byType(CircularProgressIndicator), findsOneWidget);
      expect(find.text('Test Button'), findsNothing);
    });

    testWidgets('should handle tap events', (tester) async {
      // Arrange
      bool wasTapped = false;
      const buttonText = 'Test Button';

      // Act
      await tester.pumpWidget(
        createTestableWidget(
          AppButton(
            text: buttonText,
            onPressed: () => wasTapped = true,
          ),
        ),
      );

      await tester.tap(find.text(buttonText));
      await tester.pump();

      // Assert
      expect(wasTapped, isTrue);
    });
  });
}
```

### **2. Screen Testing | Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø§Ø´Ø§Øª**
```dart
// test/features/products/presentation/pages/products_page_test.dart
void main() {
  group('ProductsPage', () {
    late MockProductNotifier mockNotifier;

    setUp(() {
      mockNotifier = MockProductNotifier();
    });

    testWidgets('should show loading state initially', (tester) async {
      // Arrange
      when(mockNotifier.state).thenReturn(const ProductState(isLoading: true));

      // Act
      await tester.pumpWidget(
        createTestableWidget(
          ProductsPage(),
          overrides: [
            productNotifierProvider.overrideWith((ref) => mockNotifier),
          ],
        ),
      );

      // Assert
      expect(find.byType(CircularProgressIndicator), findsOneWidget);
      expect(find.text('Loading products...'), findsOneWidget);
    });

    testWidgets('should show products when loaded', (tester) async {
      // Arrange
      const products = [sampleProduct1, sampleProduct2];
      when(mockNotifier.state).thenReturn(
        ProductState(products: products, isLoading: false),
      );

      // Act
      await tester.pumpWidget(
        createTestableWidget(
          ProductsPage(),
          overrides: [
            productNotifierProvider.overrideWith((ref) => mockNotifier),
          ],
        ),
      );

      // Assert
      expect(find.text(sampleProduct1.name), findsOneWidget);
      expect(find.text(sampleProduct2.name), findsOneWidget);
      expect(find.byType(ProductCard), findsNWidgets(2));
    });

    testWidgets('should show error state when failed', (tester) async {
      // Arrange
      when(mockNotifier.state).thenReturn(
        const ProductState(
          isLoading: false,
          hasError: true,
          errorMessage: 'Failed to load products',
        ),
      );

      // Act
      await tester.pumpWidget(
        createTestableWidget(
          ProductsPage(),
          overrides: [
            productNotifierProvider.overrideWith((ref) => mockNotifier),
          ],
        ),
      );

      // Assert
      expect(find.text('Failed to load products'), findsOneWidget);
      expect(find.text('Retry'), findsOneWidget);
    });
  });
}
```

## ğŸ”— **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙƒØ§Ù…Ù„ | Integration Testing**

### **1. API Integration Tests | Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙƒØ§Ù…Ù„ API**
```dart
// integration_test/api_integration_test.dart
void main() {
  group('API Integration Tests', () {
    late Dio dio;
    late String baseUrl;

    setUp(() {
      baseUrl = 'https://api-dev.zahraah.com';
      dio = Dio();
      dio.options.baseUrl = baseUrl;
    });

    test('should fetch products from API', () async {
      // Act
      final response = await dio.get('/products');

      // Assert
      expect(response.statusCode, equals(200));
      expect(response.data, isA<List>());
      expect(response.data.isNotEmpty, isTrue);
    });

    test('should handle API errors gracefully', () async {
      // Act & Assert
      expect(
        () => dio.get('/products/invalid-id'),
        throwsA(isA<DioException>()),
      );
    });
  });
}
```

### **2. Feature Integration Tests | Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù…ÙŠØ²Ø§Øª**
```dart
// integration_test/features/product_purchase_flow_test.dart
void main() {
  group('Product Purchase Flow', () {
    testWidgets('should complete purchase journey', (tester) async {
      // Arrange
      await tester.pumpWidget(
        createTestableWidget(
          const ZahraahApp(),
          overrides: [
            productNotifierProvider.overrideWith((ref) => MockProductNotifier()),
            cartNotifierProvider.overrideWith((ref) => MockCartNotifier()),
            orderNotifierProvider.overrideWith((ref) => MockOrderNotifier()),
          ],
        ),
      );

      // Act - Navigate to products
      await tester.pumpAndSettle();
      await tester.tap(find.text('Products'));
      await tester.pumpAndSettle();

      // Act - Select product
      await tester.tap(find.byType(ProductCard).first);
      await tester.pumpAndSettle();

      // Act - Add to cart
      await tester.tap(find.text('Add to Cart'));
      await tester.pumpAndSettle();

      // Act - Go to cart
      await tester.tap(find.byIcon(Icons.shopping_cart));
      await tester.pumpAndSettle();

      // Act - Proceed to checkout
      await tester.tap(find.text('Checkout'));
      await tester.pumpAndSettle();

      // Assert
      expect(find.text('Order Summary'), findsOneWidget);
      expect(find.text('Place Order'), findsOneWidget);
    });
  });
}
```

## ğŸ¨ **Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© | Golden Tests**

### **1. Visual Regression Testing | Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§Ù†Ø­Ø¯Ø§Ø± Ø§Ù„Ø¨ØµØ±ÙŠ**
```dart
// test/golden/app_button_golden_test.dart
void main() {
  group('AppButton Golden Tests', () {
    testWidgets('primary button matches golden file', (tester) async {
      // Arrange
      await tester.pumpWidget(
        createTestableWidget(
          AppButton(
            text: 'Primary Button',
            type: AppButtonType.primary,
            onPressed: () {},
          ),
        ),
      );

      // Act
      await tester.pumpAndSettle();

      // Assert
      await expectLater(
        find.byType(AppButton),
        matchesGoldenFile('goldens/app_button_primary.png'),
      );
    });

    testWidgets('secondary button matches golden file', (tester) async {
      // Arrange
      await tester.pumpWidget(
        createTestableWidget(
          AppButton(
            text: 'Secondary Button',
            type: AppButtonType.secondary,
            onPressed: () {},
          ),
        ),
      );

      // Act
      await tester.pumpAndSettle();

      // Assert
      await expectLater(
        find.byType(AppButton),
        matchesGoldenFile('goldens/app_button_secondary.png'),
      );
    });
  });
}
```

## âš¡ **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø¯Ø§Ø¡ | Performance Testing**

### **1. Performance Benchmarks | Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡**
```dart
// test/performance/product_list_performance_test.dart
void main() {
  group('Product List Performance', () {
    testWidgets('should render 100 products within 16ms', (tester) async {
      // Arrange
      final products = List.generate(100, (index) => createSampleProduct(index));

      // Act
      await tester.pumpWidget(
        createTestableWidget(
          ProductListWidget(products: products),
        ),
      );

      // Assert
      final stopwatch = Stopwatch()..start();
      await tester.pumpAndSettle();
      stopwatch.stop();

      expect(stopwatch.elapsedMilliseconds, lessThan(16));
    });
  });
}
```

## ğŸ§ª **Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± | Test Utilities**

### **1. Test Data Factory | Ù…ØµÙ†Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±**
```dart
// test/utils/test_data_factory.dart
class TestDataFactory {
  static Product createSampleProduct([int index = 0]) {
    return Product(
      id: 'product_$index',
      name: 'Test Product $index',
      description: 'Test Description $index',
      price: 99.99 + index,
      category: 'Electronics',
      images: ['image_$index.jpg'],
      stockQuantity: 10 + index,
      isAvailable: true,
      createdAt: DateTime.now(),
      updatedAt: DateTime.now(),
    );
  }

  static List<Product> createSampleProducts(int count) {
    return List.generate(count, (index) => createSampleProduct(index));
  }

  static User createSampleUser([int index = 0]) {
    return User(
      id: 'user_$index',
      email: 'user$index@test.com',
      firstName: 'Test',
      lastName: 'User$index',
      phoneNumber: '+1234567890',
      role: UserRole.customer,
      createdAt: DateTime.now(),
      updatedAt: DateTime.now(),
    );
  }

  static Order createSampleOrder([int index = 0]) {
    return Order(
      id: 'order_$index',
      userId: 'user_$index',
      items: [createSampleOrderItem(index)],
      subtotal: 99.99,
      tax: 9.99,
      shipping: 10.0,
      total: 119.98,
      status: OrderStatus.pending,
      createdAt: DateTime.now(),
      updatedAt: DateTime.now(),
    );
  }
}
```

### **2. Mock Classes | ÙØ¦Ø§Øª Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©**
```dart
// test/utils/mocks.dart
@GenerateMocks([
  ProductRepository,
  CartRepository,
  OrderRepository,
  NetworkInfo,
  Dio,
])
void main() {}

class MockProductNotifier extends Mock implements ProductNotifier {}
class MockCartNotifier extends Mock implements CartNotifier {}
class MockOrderNotifier extends Mock implements OrderNotifier {}
class MockAuthNotifier extends Mock implements AuthNotifier {}
```

## ğŸ“Š **ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± | Test Coverage**

### **1. Coverage Configuration | ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªØºØ·ÙŠØ©**
```yaml
# test/coverage.yaml
coverage:
  exclude:
    - "**/*.g.dart"
    - "**/*.freezed.dart"
    - "**/*.config.dart"
    - "**/test/**"
    - "**/integration_test/**"
  
  thresholds:
    global:
      statements: 90
      branches: 85
      functions: 90
      lines: 90
```

### **2. Coverage Reporting | ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØºØ·ÙŠØ©**
```bash
#!/bin/bash
# scripts/test_coverage.sh
flutter test --coverage
genhtml coverage/lcov.info -o coverage/html
open coverage/html/index.html
```

## ğŸ“‹ **Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªÙ†ÙÙŠØ° | Implementation Checklist**

### **1. Testing Infrastructure**
- [ ] Set up testing dependencies and tools
- [ ] Configure test environment and utilities
- [ ] Create test data factories and mocks
- [ ] Set up coverage reporting

### **2. Unit Tests**
- [ ] Test use cases and business logic
- [ ] Test repositories and data sources
- [ ] Test services and utilities
- [ ] Achieve 70%+ coverage

### **3. Widget Tests**
- [ ] Test UI components and widgets
- [ ] Test screen interactions and navigation
- [ ] Test state management integration
- [ ] Achieve 20%+ coverage

### **4. Integration Tests**
- [ ] Test API integration
- [ ] Test feature flows and user journeys
- [ ] Test end-to-end scenarios
- [ ] Achieve 15%+ coverage

### **5. Quality Assurance**
- [ ] Set up continuous integration
- [ ] Configure automated testing
- [ ] Implement test reporting
- [ ] Monitor test performance

---

**Next Tab**: Code Quality Standards | Ù…Ø¹Ø§ÙŠÙŠØ± Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯

