# TAB 2: ÙƒØªØ§Ù„ÙˆØ¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Catalog

## 17. ÙƒØªØ§Ù„ÙˆØ¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ù…Ù„
### Error Catalog

---

## ğŸ¯ **Ø§Ù„Ù‡Ø¯Ù | Objective**
Ø¥Ù†Ø´Ø§Ø¡ ÙƒØªØ§Ù„ÙˆØ¬ Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„ Ù…Ø¹ Ø®Ø±ÙŠØ·Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ÙˆØ­Ø¯Ø© ÙˆØ±Ø³Ø§Ø¦Ù„ ÙˆØ¯ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Flutter Ù„Ù„ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©.

## ğŸ“‹ **Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© | Rule**
**Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©**: Ø®Ø±ÙŠØ·Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ÙˆØ­Ù‘Ø¯Ø© ØªØ±Ø¨Ø· HTTP codes â†’ error_code â†’ Ø±Ø³Ø§Ù„Ø© Ù…ØªØ±Ø¬Ù…Ø©  
**English**: Unified error map linking HTTP codes â†’ error_code â†’ translated message

## ğŸ’¡ **Ø§Ù„ÙÙˆØ§Ø¦Ø¯ | Benefits**
- **ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ù…ØªØ³Ù‚Ø© | Consistent UX**: Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ Ù…ÙˆØ­Ø¯Ø© Ø¹Ø¨Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª
- **Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØµÙŠØ§Ù†Ø© | Easy Maintenance**: Ø¥Ø¯Ø§Ø±Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…Ø±ÙƒØ²ÙŠØ©
- **ØªØµØ­ÙŠØ­ Ø£ÙØ¶Ù„ | Better Debugging**: ØªØµÙ†ÙŠÙ Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ø¶Ø­ ÙˆØªØ³Ø¬ÙŠÙ„
- **ØµØ¯ÙŠÙ‚ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… | User-Friendly**: Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ÙˆØ§Ø¶Ø­Ø© ÙˆÙ‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ†ÙÙŠØ°
- **ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø·ÙˆØ± | Developer Experience**: Ø³Ù‡ÙˆÙ„Ø© ÙÙ‡Ù… ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- **Ø§Ù„ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºÙˆÙŠ | Internationalization**: ØªØ±Ø¬Ù…Ø© Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ Ù…Ù†Ø§Ø³Ø¨Ø©

## ğŸ› ï¸ **Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | Implementation**
- **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ**: Ø¬Ù…ÙŠØ¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¹Ø¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
- **ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚**:
  - Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ø®Ø±ÙŠØ·Ø© Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„
  - ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ­ÙŠØ¯ Ø±Ù…ÙˆØ² Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
  - Ø¥Ø¶Ø§ÙØ© ØªØ±Ø¬Ù…Ø© Ø±Ø³Ø§Ø¦Ù„ ÙˆØ¯ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
  - Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
  - Ø¥Ø¶Ø§ÙØ© ØªØ³Ø¬ÙŠÙ„ ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- **Ø§Ù„Ù†ØªÙŠØ¬Ø©**: Ù†Ø¸Ø§Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ØªØ³Ù‚ ÙˆÙˆØ¯ÙˆØ¯ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…

## ğŸ¯ **Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© | Specific Priorities**

### **Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ø®Ø§ØµØ© Ø¨ÙƒØªØ§Ù„ÙˆØ¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Catalog Specific Priorities:**
#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ø£Ø³Ø§Ø³ | Phase 1: Foundation**
- **ğŸ”´ Ø­Ø±Ø¬**: Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ø®Ø±ÙŠØ·Ø© Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„
- **ğŸ”´ Ø­Ø±Ø¬**: ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ­ÙŠØ¯ Ø±Ù…ÙˆØ² Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: Ø¥Ø¶Ø§ÙØ© ØªØ±Ø¬Ù…Ø© Ø±Ø³Ø§Ø¦Ù„ ÙˆØ¯ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…

#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªØ­Ø³ÙŠÙ† | Phase 2: Enhancement**
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: ØªØ·Ø¨ÙŠÙ‚ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: Ø¥Ø¶Ø§ÙØ© ØªØ³Ø¬ÙŠÙ„ ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø§Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ØªÙ‚Ø¯Ù…Ø©

#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ù„ØªØ­Ø³ÙŠÙ† | Phase 3: Optimization**
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ±Ø¤Ù‰ Ø£Ø®Ø·Ø§Ø¡ Ù…ØªÙ‚Ø¯Ù…Ø©
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
- **ğŸŸ¢ Ù…Ù†Ø®ÙØ¶**: Ù…Ù†Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªÙ†Ø¨Ø¤ÙŠ

## ğŸ“ˆ **Success Metrics | Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­**

### **Ù…Ù‚Ø§ÙŠÙŠØ³ Ø®Ø§ØµØ© Ø¨ÙƒØªØ§Ù„ÙˆØ¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Catalog Specific Metrics:**
- **ØªØºØ·ÙŠØ© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Coverage**: 100% error types mapped
- **ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ | Message Translation**: 100% messages translated
- **Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Recovery**: >90% successful error recovery
- **Ø±Ø¶Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… | User Satisfaction**: >95% user satisfaction with error messages
- **Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø§Ù„Ù…Ø·ÙˆØ± | Developer Productivity**: 50%+ faster error handling
- **Ø­Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Resolution**: <5 minutes average resolution time

## âš ï¸ **Common Pitfalls & Best Practices | Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙˆØ£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª**

### **Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ø¦Ø¹Ø© Ø®Ø§ØµØ© Ø¨ÙƒØªØ§Ù„ÙˆØ¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Catalog Specific Pitfalls:**
- **ØªØ¬Ù†Ø¨ | Avoid**: Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªØ³Ù‚Ø© Ø¹Ø¨Ø± Ø§Ù„Ø´Ø§Ø´Ø§Øª
- **ØªØ¬Ù†Ø¨ | Avoid**: Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ØªÙ‚Ù†ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- **ØªØ¬Ù†Ø¨ | Avoid**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- **ØªØ¬Ù†Ø¨ | Avoid**: ØªØµÙ†ÙŠÙ Ø£Ø®Ø·Ø§Ø¡ Ø¶Ø¹ÙŠÙ
- **ØªØ¬Ù†Ø¨ | Avoid**: ØªØ³Ø¬ÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ ØºÙŠØ± ÙƒØ§ÙÙŠ

### **Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª | Best Practices:**
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: Ø®Ø±ÙŠØ·Ø© ÙˆØªØµÙ†ÙŠÙ Ø£Ø®Ø·Ø§Ø¡ Ù…ÙˆØ­Ø¯
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ÙˆØ¯ÙŠØ© ÙˆÙ‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ†ÙÙŠØ°
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„Ø©
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: ØªØ³Ø¬ÙŠÙ„ ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…Ù†Ø§Ø³Ø¨Ø©
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: Ø£Ù†Ù…Ø§Ø· Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ØªØ³Ù‚Ø©

## ğŸ“‹ **Error Mapping Table | Ø¬Ø¯ÙˆÙ„ Ø±Ø¨Ø· Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**

### **1. HTTP Status Codes | Ø±Ù…ÙˆØ² Ø­Ø§Ù„Ø© HTTP**
```dart
// lib/core/error/error_mapping.dart
class ErrorMapping {
  static const Map<int, ErrorInfo> httpErrorMap = {
    // 4xx Client Errors
    400: ErrorInfo(
      code: 'BAD_REQUEST',
      category: ErrorCategory.client,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Invalid request. Please check your input and try again.',
        'ar': 'Ø·Ù„Ø¨ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    401: ErrorInfo(
      code: 'UNAUTHORIZED',
      category: ErrorCategory.authentication,
      severity: ErrorSeverity.high,
      userMessage: {
        'en': 'Please log in to continue.',
        'ar': 'ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©.',
      },
      recoveryAction: RecoveryAction.login,
    ),
    403: ErrorInfo(
      code: 'FORBIDDEN',
      category: ErrorCategory.authorization,
      severity: ErrorSeverity.high,
      userMessage: {
        'en': 'You don\'t have permission to access this resource.',
        'ar': 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ±Ø¯.',
      },
      recoveryAction: RecoveryAction.contactSupport,
    ),
    404: ErrorInfo(
      code: 'NOT_FOUND',
      category: ErrorCategory.resource,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'The requested resource was not found.',
        'ar': 'Ø§Ù„Ù…ÙˆØ±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    409: ErrorInfo(
      code: 'CONFLICT',
      category: ErrorCategory.business,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'The request conflicts with the current state.',
        'ar': 'Ø§Ù„Ø·Ù„Ø¨ ÙŠØªØ¹Ø§Ø±Ø¶ Ù…Ø¹ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    422: ErrorInfo(
      code: 'UNPROCESSABLE_ENTITY',
      category: ErrorCategory.validation,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Please check your input and try again.',
        'ar': 'ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    429: ErrorInfo(
      code: 'TOO_MANY_REQUESTS',
      category: ErrorCategory.rateLimit,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Too many requests. Please wait a moment and try again.',
        'ar': 'Ø·Ù„Ø¨Ø§Øª ÙƒØ«ÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.waitAndRetry,
    ),
    
    // 5xx Server Errors
    500: ErrorInfo(
      code: 'INTERNAL_SERVER_ERROR',
      category: ErrorCategory.server,
      severity: ErrorSeverity.critical,
      userMessage: {
        'en': 'Something went wrong. Please try again later.',
        'ar': 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.',
      },
      recoveryAction: RecoveryAction.retryLater,
    ),
    502: ErrorInfo(
      code: 'BAD_GATEWAY',
      category: ErrorCategory.server,
      severity: ErrorSeverity.high,
      userMessage: {
        'en': 'Service temporarily unavailable. Please try again later.',
        'ar': 'Ø§Ù„Ø®Ø¯Ù…Ø© ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ù…Ø¤Ù‚ØªØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.',
      },
      recoveryAction: RecoveryAction.retryLater,
    ),
    503: ErrorInfo(
      code: 'SERVICE_UNAVAILABLE',
      category: ErrorCategory.server,
      severity: ErrorSeverity.high,
      userMessage: {
        'en': 'Service temporarily unavailable. Please try again later.',
        'ar': 'Ø§Ù„Ø®Ø¯Ù…Ø© ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ù…Ø¤Ù‚ØªØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.',
      },
      recoveryAction: RecoveryAction.retryLater,
    ),
    504: ErrorInfo(
      code: 'GATEWAY_TIMEOUT',
      category: ErrorCategory.server,
      severity: ErrorSeverity.high,
      userMessage: {
        'en': 'Request timeout. Please try again.',
        'ar': 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø·Ù„Ø¨. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
  };
}
```

### **2. Error Information Structure | Ù‡ÙŠÙƒÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø®Ø·Ø£**
```dart
// lib/core/error/error_info.dart
class ErrorInfo {
  final String code;
  final ErrorCategory category;
  final ErrorSeverity severity;
  final Map<String, String> userMessage;
  final RecoveryAction recoveryAction;
  final String? technicalMessage;
  final Map<String, dynamic>? metadata;
  
  const ErrorInfo({
    required this.code,
    required this.category,
    required this.severity,
    required this.userMessage,
    required this.recoveryAction,
    this.technicalMessage,
    this.metadata,
  });
}

enum ErrorCategory {
  client,
  server,
  network,
  authentication,
  authorization,
  validation,
  business,
  resource,
  rateLimit,
  unknown,
}

enum ErrorSeverity {
  low,
  medium,
  high,
  critical,
}

enum RecoveryAction {
  retry,
  retryLater,
  waitAndRetry,
  login,
  contactSupport,
  refresh,
  clearCache,
  none,
}
```

## ğŸŒ **Network Errors | Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ©**

### **1. Network Error Mapping | Ø±Ø¨Ø· Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ©**
```dart
// lib/core/error/network_error_mapping.dart
class NetworkErrorMapping {
  static const Map<String, ErrorInfo> networkErrorMap = {
    'CONNECTION_TIMEOUT': ErrorInfo(
      code: 'CONNECTION_TIMEOUT',
      category: ErrorCategory.network,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Connection timeout. Please check your internet connection.',
        'ar': 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'SEND_TIMEOUT': ErrorInfo(
      code: 'SEND_TIMEOUT',
      category: ErrorCategory.network,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Request timeout. Please try again.',
        'ar': 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø·Ù„Ø¨. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'RECEIVE_TIMEOUT': ErrorInfo(
      code: 'RECEIVE_TIMEOUT',
      category: ErrorCategory.network,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Response timeout. Please try again.',
        'ar': 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'CONNECTION_ERROR': ErrorInfo(
      code: 'CONNECTION_ERROR',
      category: ErrorCategory.network,
      severity: ErrorSeverity.high,
      userMessage: {
        'en': 'No internet connection. Please check your network settings.',
        'ar': 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'CANCEL': ErrorInfo(
      code: 'REQUEST_CANCELLED',
      category: ErrorCategory.network,
      severity: ErrorSeverity.low,
      userMessage: {
        'en': 'Request was cancelled.',
        'ar': 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
  };
}
```

### **2. Dio Error Mapping | Ø±Ø¨Ø· Ø£Ø®Ø·Ø§Ø¡ Dio**
```dart
// lib/core/error/dio_error_mapping.dart
class DioErrorMapping {
  static ErrorInfo mapDioError(DioException error) {
    switch (error.type) {
      case DioExceptionType.connectionTimeout:
        return NetworkErrorMapping.networkErrorMap['CONNECTION_TIMEOUT']!;
      case DioExceptionType.sendTimeout:
        return NetworkErrorMapping.networkErrorMap['SEND_TIMEOUT']!;
      case DioExceptionType.receiveTimeout:
        return NetworkErrorMapping.networkErrorMap['RECEIVE_TIMEOUT']!;
      case DioExceptionType.badResponse:
        return ErrorMapping.httpErrorMap[error.response?.statusCode] ??
            ErrorMapping.httpErrorMap[500]!;
      case DioExceptionType.cancel:
        return NetworkErrorMapping.networkErrorMap['CANCEL']!;
      case DioExceptionType.connectionError:
        return NetworkErrorMapping.networkErrorMap['CONNECTION_ERROR']!;
      default:
        return ErrorMapping.httpErrorMap[500]!;
    }
  }
}
```

## ğŸ” **Authentication Errors | Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©**

### **1. Auth Error Mapping | Ø±Ø¨Ø· Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©**
```dart
// lib/core/error/auth_error_mapping.dart
class AuthErrorMapping {
  static const Map<String, ErrorInfo> authErrorMap = {
    'INVALID_CREDENTIALS': ErrorInfo(
      code: 'INVALID_CREDENTIALS',
      category: ErrorCategory.authentication,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Invalid email or password. Please try again.',
        'ar': 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'ACCOUNT_LOCKED': ErrorInfo(
      code: 'ACCOUNT_LOCKED',
      category: ErrorCategory.authentication,
      severity: ErrorSeverity.high,
      userMessage: {
        'en': 'Your account has been locked. Please contact support.',
        'ar': 'ØªÙ… Ù‚ÙÙ„ Ø­Ø³Ø§Ø¨Ùƒ. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¯Ø¹Ù….',
      },
      recoveryAction: RecoveryAction.contactSupport,
    ),
    'ACCOUNT_NOT_VERIFIED': ErrorInfo(
      code: 'ACCOUNT_NOT_VERIFIED',
      category: ErrorCategory.authentication,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Please verify your email address to continue.',
        'ar': 'ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ù†ÙˆØ§Ù† Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'TOKEN_EXPIRED': ErrorInfo(
      code: 'TOKEN_EXPIRED',
      category: ErrorCategory.authentication,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Your session has expired. Please log in again.',
        'ar': 'Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø¬Ù„Ø³ØªÙƒ. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.login,
    ),
    'TOKEN_INVALID': ErrorInfo(
      code: 'TOKEN_INVALID',
      category: ErrorCategory.authentication,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Invalid session. Please log in again.',
        'ar': 'Ø¬Ù„Ø³Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.login,
    ),
  };
}
```

## ğŸ›’ **Business Logic Errors | Ø£Ø®Ø·Ø§Ø¡ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„**

### **1. E-commerce Error Mapping | Ø±Ø¨Ø· Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©**
```dart
// lib/core/error/business_error_mapping.dart
class BusinessErrorMapping {
  static const Map<String, ErrorInfo> businessErrorMap = {
    'PRODUCT_NOT_AVAILABLE': ErrorInfo(
      code: 'PRODUCT_NOT_AVAILABLE',
      category: ErrorCategory.business,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'This product is currently out of stock.',
        'ar': 'Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'INSUFFICIENT_STOCK': ErrorInfo(
      code: 'INSUFFICIENT_STOCK',
      category: ErrorCategory.business,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Insufficient stock. Please reduce quantity and try again.',
        'ar': 'Ù…Ø®Ø²ÙˆÙ† ØºÙŠØ± ÙƒØ§ÙÙŠ. ÙŠØ±Ø¬Ù‰ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ…ÙŠØ© ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'CART_EMPTY': ErrorInfo(
      code: 'CART_EMPTY',
      category: ErrorCategory.business,
      severity: ErrorSeverity.low,
      userMessage: {
        'en': 'Your cart is empty. Add some items to continue.',
        'ar': 'Ø³Ù„ØªÙƒ ÙØ§Ø±ØºØ©. Ø£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'PAYMENT_FAILED': ErrorInfo(
      code: 'PAYMENT_FAILED',
      category: ErrorCategory.business,
      severity: ErrorSeverity.high,
      userMessage: {
        'en': 'Payment failed. Please check your payment method and try again.',
        'ar': 'ÙØ´Ù„ Ø§Ù„Ø¯ÙØ¹. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
    'ORDER_NOT_FOUND': ErrorInfo(
      code: 'ORDER_NOT_FOUND',
      category: ErrorCategory.business,
      severity: ErrorSeverity.medium,
      userMessage: {
        'en': 'Order not found. Please check your order number.',
        'ar': 'Ø§Ù„Ø·Ù„Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨.',
      },
      recoveryAction: RecoveryAction.retry,
    ),
  };
}
```

## ğŸ”§ **Error Handler | Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**

### **1. Unified Error Handler | Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ÙˆØ­Ø¯**
```dart
// lib/core/error/unified_error_handler.dart
class UnifiedErrorHandler {
  static ErrorInfo handleError(dynamic error) {
    if (error is DioException) {
      return DioErrorMapping.mapDioError(error);
    }
    
    if (error is AuthException) {
      return AuthErrorMapping.authErrorMap[error.code] ??
          ErrorMapping.httpErrorMap[401]!;
    }
    
    if (error is BusinessException) {
      return BusinessErrorMapping.businessErrorMap[error.code] ??
          ErrorMapping.httpErrorMap[400]!;
    }
    
    if (error is ValidationException) {
      return ErrorMapping.httpErrorMap[422]!;
    }
    
    // Default error
    return ErrorMapping.httpErrorMap[500]!;
  }
  
  static String getUserMessage(ErrorInfo errorInfo, String locale) {
    return errorInfo.userMessage[locale] ?? 
           errorInfo.userMessage['en'] ?? 
           'An error occurred. Please try again.';
  }
  
  static String getTechnicalMessage(ErrorInfo errorInfo) {
    return errorInfo.technicalMessage ?? 
           'Technical error: ${errorInfo.code}';
  }
}
```

### **2. Error Recovery | Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**
```dart
// lib/core/error/error_recovery.dart
class ErrorRecovery {
  static Future<void> executeRecoveryAction(
    RecoveryAction action,
    BuildContext context,
  ) async {
    switch (action) {
      case RecoveryAction.retry:
        // Retry the failed operation
        break;
      case RecoveryAction.retryLater:
        // Show retry later message
        _showRetryLaterMessage(context);
        break;
      case RecoveryAction.waitAndRetry:
        // Wait and retry
        await Future.delayed(const Duration(seconds: 5));
        break;
      case RecoveryAction.login:
        // Navigate to login
        AppRouter.router.go('/login');
        break;
      case RecoveryAction.contactSupport:
        // Show contact support dialog
        _showContactSupportDialog(context);
        break;
      case RecoveryAction.refresh:
        // Refresh the current screen
        break;
      case RecoveryAction.clearCache:
        // Clear app cache
        await CacheService.deletePattern('*');
        break;
      case RecoveryAction.none:
        // No action required
        break;
    }
  }
  
  static void _showRetryLaterMessage(BuildContext context) {
    ScaffoldMessenger.of(context).showSnackBar(
      const SnackBar(
        content: Text('Please try again later'),
      ),
    );
  }
  
  static void _showContactSupportDialog(BuildContext context) {
    showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('Contact Support'),
        content: const Text('Please contact our support team for assistance.'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(),
            child: const Text('OK'),
          ),
        ],
      ),
    );
  }
}
```

## ğŸ“Š **Error Analytics | ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**

### **1. Error Tracking | ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**
```dart
// lib/core/error/error_analytics.dart
class ErrorAnalytics {
  static Future<void> trackError(ErrorInfo errorInfo, {
    String? context,
    Map<String, dynamic>? metadata,
  }) async {
    // Log error to analytics
    await AnalyticsService.logEvent('error_occurred', {
      'error_code': errorInfo.code,
      'error_category': errorInfo.category.name,
      'error_severity': errorInfo.severity.name,
      'context': context ?? 'unknown',
      'metadata': metadata ?? {},
    });
    
    // Send to crash reporting
    await CrashlyticsService.recordError(
      errorInfo.code,
      null,
      reason: context,
      fatal: errorInfo.severity == ErrorSeverity.critical,
    );
  }
  
  static Future<void> trackErrorRecovery(
    String errorCode,
    RecoveryAction action,
    bool success,
  ) async {
    await AnalyticsService.logEvent('error_recovery', {
      'error_code': errorCode,
      'recovery_action': action.name,
      'success': success,
    });
  }
}
```

## ğŸ“‹ **Implementation Checklist | Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªÙ†ÙÙŠØ°**

### **1. Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Mapping**
- [ ] Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ø®Ø±ÙŠØ·Ø© Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„
- [ ] Ø±Ø¨Ø· Ø±Ù…ÙˆØ² Ø­Ø§Ù„Ø© HTTP Ø¨Ø±Ù…ÙˆØ² Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø¥Ø¶Ø§ÙØ© Ø®Ø±ÙŠØ·Ø© Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ©
- [ ] Ø¥Ø¶Ø§ÙØ© Ø®Ø±ÙŠØ·Ø© Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

### **2. Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Messages**
- [ ] Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ÙˆØ¯ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
- [ ] Ø¥Ø¶Ø§ÙØ© ØªØ±Ø¬Ù…Ø§Øª Ø¹Ø±Ø¨ÙŠØ© ÙˆØ¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
- [ ] ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ·ÙŠÙ† Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### **3. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Handling**
- [ ] ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¹Ø§Ù„Ø¬ Ø£Ø®Ø·Ø§Ø¡ Ù…ÙˆØ­Ø¯
- [ ] Ø¥Ø¶Ø§ÙØ© Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø§Ø®ØªØ¨Ø§Ø± ØªØ¯ÙÙ‚ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### **4. ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Analytics**
- [ ] Ø¥Ø¶Ø§ÙØ© ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] ØªØ·Ø¨ÙŠÙ‚ ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø§Ø®ØªØ¨Ø§Ø± ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### **5. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ | Error Testing**
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- [ ] Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

---

**Next Tab**: Performance Monitoring | Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

