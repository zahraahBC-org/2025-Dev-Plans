# TAB 5: Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© | Business Analytics

## 20. Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
### Business Analytics

---

## ğŸ¯ **Ø§Ù„Ù‡Ø¯Ù | Objective**
ØªØ·Ø¨ÙŠÙ‚ Ù†Ø¸Ø§Ù… ØªØ­Ù„ÙŠÙ„Ø§Øª Ø£Ø¹Ù…Ø§Ù„ ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø´Ø§Ù…Ù„ Ù„Ø§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø±Ø§Øª Ù…Ø¯ÙÙˆØ¹Ø© Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Flutter Ù„Ù„ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©.

## ğŸ“‹ **Rule | Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©**
**Arabic**: Analytics Ø´Ø§Ù…Ù„ + Ø£Ø­Ø¯Ø§Ø« Ù…Ø®ØµØµØ© + ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ + Ø§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø±Ø§Øª Ù…Ø¯ÙÙˆØ¹Ø© Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª  
**English**: Comprehensive analytics + custom events + business reports + data-driven decisions

## ğŸ’¡ **Benefits | Ø§Ù„ÙÙˆØ§Ø¦Ø¯**
- **Data-Driven Decisions | Ù‚Ø±Ø§Ø±Ø§Øª Ù…Ø¯ÙÙˆØ¹Ø© Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: Make informed business decisions
- **User Behavior Insights | Ø±Ø¤Ù‰ Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: Understand user behavior and preferences
- **Business Performance | Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„**: Track business metrics and KPIs
- **Marketing Optimization | ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ³ÙˆÙŠÙ‚**: Optimize marketing campaigns and strategies
- **Revenue Growth | Ù†Ù…Ùˆ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª**: Identify opportunities for revenue growth
- **Competitive Advantage | Ù…ÙŠØ²Ø© ØªÙ†Ø§ÙØ³ÙŠØ©**: Gain insights for competitive advantage

## ğŸ› ï¸ **Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | Implementation**
- **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ**: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø© Ù„Ù„Ø£Ø¹Ù…Ø§Ù„ ÙˆØªÙØ§Ø¹Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- **ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚**:
  - Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª (Firebase Analytics, Google Analytics)
  - ØªØ·Ø¨ÙŠÙ‚ ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø®ØµØµØ©
  - Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø§Øª Ø£Ø¹Ù…Ø§Ù„
  - Ø¥Ø¶Ø§ÙØ© ØªØªØ¨Ø¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„
  - ØªØ·Ø¨ÙŠÙ‚ ØªØ¬Ø²Ø¦Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- **Ø§Ù„Ù†ØªÙŠØ¬Ø©**: Ù†Ø¸Ø§Ù… ØªØ­Ù„ÙŠÙ„Ø§Øª Ø£Ø¹Ù…Ø§Ù„ Ø´Ø§Ù…Ù„

## ğŸ¯ **Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© | Specific Priorities**

### **Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© | Business Analytics Specific Priorities:**
#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ø£Ø³Ø§Ø³ | Phase 1: Foundation**
- **ğŸ”´ Ø­Ø±Ø¬**: Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª
- **ğŸ”´ Ø­Ø±Ø¬**: ØªØ·Ø¨ÙŠÙ‚ ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø®ØµØµØ©
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø§Øª Ø£Ø¹Ù…Ø§Ù„

#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªØ­Ø³ÙŠÙ† | Phase 2: Enhancement**
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: Ø¥Ø¶Ø§ÙØ© ØªØªØ¨Ø¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙˆØªØ¬Ø²Ø¦Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- **ğŸŸ  Ø¹Ø§Ù„ÙŠ**: ØªØ·Ø¨ÙŠÙ‚ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø§Øª ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©

#### **Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ù„ØªØ­Ø³ÙŠÙ† | Phase 3: Optimization**
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: Ø°ÙƒØ§Ø¡ Ø£Ø¹Ù…Ø§Ù„ Ù…ØªÙ‚Ø¯Ù…
- **ğŸŸ¡ Ù…ØªÙˆØ³Ø·**: Ø±Ø¤Ù‰ ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
- **ğŸŸ¢ Ù…Ù†Ø®ÙØ¶**: ØªØ­Ù„ÙŠÙ„Ø§Øª ØªÙ†Ø¨Ø¤ÙŠØ© ÙˆØªÙˆØµÙŠØ§Øª

## ğŸ“ˆ **Success Metrics | Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­**

### **Ù…Ù‚Ø§ÙŠÙŠØ³ Ø®Ø§ØµØ© Ø¨Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© | Business Analytics Specific Metrics:**
- **ØªØºØ·ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª | Data Coverage**: 100% user actions tracked
- **Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ | Conversion Rate**: >5% conversion rate
- **ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… | User Engagement**: >70% daily active users
- **Ù†Ù…Ùˆ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª | Revenue Growth**: >20% monthly growth
- **Ø°ÙƒØ§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ | Business Intelligence**: 100% business metrics covered
- **Ø³Ø±Ø¹Ø© Ø§Ù„Ù‚Ø±Ø§Ø± | Decision Speed**: 50%+ faster business decisions

## âš ï¸ **Common Pitfalls & Best Practices | Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙˆØ£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª**

### **Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ø¦Ø¹Ø© Ø®Ø§ØµØ© Ø¨Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© | Business Analytics Specific Pitfalls:**
- **ØªØ¬Ù†Ø¨ | Avoid**: ØªØªØ¨Ø¹ Ø£Ø­Ø¯Ø§Ø« ØºÙŠØ± Ù…ÙƒØªÙ…Ù„
- **ØªØ¬Ù†Ø¨ | Avoid**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ù‚Ø§ÙŠÙŠØ³ Ø£Ø¹Ù…Ø§Ù„
- **ØªØ¬Ù†Ø¨ | Avoid**: Ø¬ÙˆØ¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¶Ø¹ÙŠÙØ©
- **ØªØ¬Ù†Ø¨ | Avoid**: ØªØ¬Ø²Ø¦Ø© Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± ÙƒØ§ÙÙŠØ©
- **ØªØ¬Ù†Ø¨ | Avoid**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ØªØªØ¨Ø¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„

### **Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª | Best Practices:**
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: ØªØªØ¨Ø¹ Ø£Ø­Ø¯Ø§Ø« Ø´Ø§Ù…Ù„
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: Ù…Ù‚Ø§ÙŠÙŠØ³ Ø£Ø¹Ù…Ø§Ù„ Ù…ÙƒØªÙ…Ù„Ø©
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: ØªØ¬Ø²Ø¦Ø© Ù…Ø³ØªØ®Ø¯Ù… ÙØ¹Ø§Ù„Ø©
- **Ø§Ø³ØªØ®Ø¯Ù… | Use**: ØªØªØ¨Ø¹ ØªØ­ÙˆÙŠÙ„ Ø¯Ù‚ÙŠÙ‚

## ğŸ“Š **Analytics Platform Setup | Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª**

### **1. Firebase Analytics Configuration | ØªÙƒÙˆÙŠÙ† Firebase Analytics**
```dart
// lib/core/analytics/firebase_analytics_service.dart
class FirebaseAnalyticsService {
  static final FirebaseAnalytics _analytics = FirebaseAnalytics.instance;
  
  static Future<void> initialize() async {
    await _analytics.setAnalyticsCollectionEnabled(true);
    await _analytics.setSessionTimeoutDuration(const Duration(minutes: 30));
    
    // Set user properties
    await _setUserProperties();
  }
  
  static Future<void> _setUserProperties() async {
    final user = await _getCurrentUser();
    if (user != null) {
      await _analytics.setUserId(id: user.id);
      await _analytics.setUserProperty(name: 'user_type', value: user.role.name);
      await _analytics.setUserProperty(name: 'registration_date', value: user.createdAt.toIso8601String());
    }
  }
  
  static Future<void> logEvent(String name, Map<String, dynamic>? parameters) async {
    try {
      await _analytics.logEvent(name: name, parameters: parameters);
    } catch (e) {
      ErrorHandler.handleError(e, null, context: 'firebase_analytics');
    }
  }
  
  static Future<void> logScreenView(String screenName) async {
    await _analytics.logScreenView(screenName: screenName);
  }
  
  static Future<void> logPurchase({
    required String transactionId,
    required String currency,
    required double value,
    Map<String, dynamic>? parameters,
  }) async {
    await _analytics.logPurchase(
      transactionId: transactionId,
      currency: currency,
      value: value,
      parameters: parameters,
    );
  }
  
  static Future<User?> _getCurrentUser() async {
    // Get current user from auth service
    return null;
  }
}
```

### **2. Custom Event Tracking | ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø®ØµØµØ©**
```dart
// lib/core/analytics/custom_events.dart
class CustomEvents {
  // E-commerce Events
  static Future<void> logProductView(Product product) async {
    await FirebaseAnalyticsService.logEvent('view_item', {
      'item_id': product.id,
      'item_name': product.name,
      'item_category': product.category,
      'price': product.price,
      'currency': 'USD',
    });
  }
  
  static Future<void> logAddToCart(Product product, int quantity) async {
    await FirebaseAnalyticsService.logEvent('add_to_cart', {
      'item_id': product.id,
      'item_name': product.name,
      'item_category': product.category,
      'price': product.price,
      'quantity': quantity,
      'currency': 'USD',
    });
  }
  
  static Future<void> logRemoveFromCart(Product product, int quantity) async {
    await FirebaseAnalyticsService.logEvent('remove_from_cart', {
      'item_id': product.id,
      'item_name': product.name,
      'item_category': product.category,
      'price': product.price,
      'quantity': quantity,
      'currency': 'USD',
    });
  }
  
  static Future<void> logBeginCheckout(Order order) async {
    await FirebaseAnalyticsService.logEvent('begin_checkout', {
      'transaction_id': order.id,
      'value': order.total,
      'currency': 'USD',
      'items': order.items.map((item) => {
        'item_id': item.productId,
        'item_name': item.productName,
        'price': item.price,
        'quantity': item.quantity,
      }).toList(),
    });
  }
  
  static Future<void> logPurchase(Order order) async {
    await FirebaseAnalyticsService.logEvent('purchase', {
      'transaction_id': order.id,
      'value': order.total,
      'currency': 'USD',
      'items': order.items.map((item) => {
        'item_id': item.productId,
        'item_name': item.productName,
        'price': item.price,
        'quantity': item.quantity,
      }).toList(),
    });
  }
  
  // User Engagement Events
  static Future<void> logUserRegistration(String method) async {
    await FirebaseAnalyticsService.logEvent('sign_up', {
      'method': method,
    });
  }
  
  static Future<void> logUserLogin(String method) async {
    await FirebaseAnalyticsService.logEvent('login', {
      'method': method,
    });
  }
  
  static Future<void> logSearch(String query, int resultsCount) async {
    await FirebaseAnalyticsService.logEvent('search', {
      'search_term': query,
      'results_count': resultsCount,
    });
  }
  
  static Future<void> logFilter(String filterType, String filterValue) async {
    await FirebaseAnalyticsService.logEvent('filter', {
      'filter_type': filterType,
      'filter_value': filterValue,
    });
  }
  
  // Business Events
  static Future<void> logPromotionView(String promotionId, String promotionName) async {
    await FirebaseAnalyticsService.logEvent('view_promotion', {
      'promotion_id': promotionId,
      'promotion_name': promotionName,
    });
  }
  
  static Future<void> logPromotionClick(String promotionId, String promotionName) async {
    await FirebaseAnalyticsService.logEvent('click_promotion', {
      'promotion_id': promotionId,
      'promotion_name': promotionName,
    });
  }
  
  static Future<void> logWishlistAdd(Product product) async {
    await FirebaseAnalyticsService.logEvent('add_to_wishlist', {
      'item_id': product.id,
      'item_name': product.name,
      'item_category': product.category,
      'price': product.price,
      'currency': 'USD',
    });
  }
  
  static Future<void> logWishlistRemove(Product product) async {
    await FirebaseAnalyticsService.logEvent('remove_from_wishlist', {
      'item_id': product.id,
      'item_name': product.name,
      'item_category': product.category,
      'price': product.price,
      'currency': 'USD',
    });
  }
}
```

## ğŸ“ˆ **Business Metrics | Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©**

### **1. Business KPIs | Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©**
```dart
// lib/core/analytics/business_metrics.dart
class BusinessMetrics {
  static Future<void> trackRevenue(double amount, String source) async {
    await FirebaseAnalyticsService.logEvent('revenue', {
      'amount': amount,
      'source': source,
      'currency': 'USD',
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
  
  static Future<void> trackConversion(String funnel, String step) async {
    await FirebaseAnalyticsService.logEvent('conversion', {
      'funnel': funnel,
      'step': step,
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
  
  static Future<void> trackUserEngagement(String action, String context) async {
    await FirebaseAnalyticsService.logEvent('user_engagement', {
      'action': action,
      'context': context,
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
  
  static Future<void> trackCustomerLifetimeValue(String userId, double clv) async {
    await FirebaseAnalyticsService.logEvent('customer_lifetime_value', {
      'user_id': userId,
      'clv': clv,
      'currency': 'USD',
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
  
  static Future<void> trackRetention(String userId, int daysSinceRegistration) async {
    await FirebaseAnalyticsService.logEvent('user_retention', {
      'user_id': userId,
      'days_since_registration': daysSinceRegistration,
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
  
  static Future<void> trackChurn(String userId, String reason) async {
    await FirebaseAnalyticsService.logEvent('user_churn', {
      'user_id': userId,
      'churn_reason': reason,
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
}
```

### **2. Conversion Funnel | Ù‚Ù…Ø¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„**
```dart
// lib/core/analytics/conversion_funnel.dart
class ConversionFunnel {
  static const String productViewFunnel = 'product_view';
  static const String cartFunnel = 'cart';
  static const String checkoutFunnel = 'checkout';
  static const String purchaseFunnel = 'purchase';
  
  static Future<void> trackFunnelStep(String funnel, String step, {
    Map<String, dynamic>? metadata,
  }) async {
    await FirebaseAnalyticsService.logEvent('funnel_step', {
      'funnel': funnel,
      'step': step,
      'metadata': metadata ?? {},
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
  
  static Future<void> trackFunnelConversion(String funnel, String step) async {
    await FirebaseAnalyticsService.logEvent('funnel_conversion', {
      'funnel': funnel,
      'step': step,
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
  
  static Future<void> trackFunnelDropoff(String funnel, String step, String reason) async {
    await FirebaseAnalyticsService.logEvent('funnel_dropoff', {
      'funnel': funnel,
      'step': step,
      'reason': reason,
      'timestamp': DateTime.now().toIso8601String(),
    });
  }
}
```

## ğŸ‘¥ **User Segmentation | ØªØ¬Ø²Ø¦Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†**

### **1. User Segmentation Service | Ø®Ø¯Ù…Ø© ØªØ¬Ø²Ø¦Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†**
```dart
// lib/core/analytics/user_segmentation.dart
class UserSegmentation {
  static Future<void> segmentUser(User user) async {
    final segments = await _calculateUserSegments(user);
    
    for (final segment in segments) {
      await FirebaseAnalyticsService.logEvent('user_segmented', {
        'user_id': user.id,
        'segment': segment,
        'timestamp': DateTime.now().toIso8601String(),
      });
    }
  }
  
  static Future<List<String>> _calculateUserSegments(User user) async {
    final segments = <String>[];
    
    // Age-based segmentation
    final age = _calculateAge(user.dateOfBirth);
    if (age < 25) {
      segments.add('age_18_24');
    } else if (age < 35) {
      segments.add('age_25_34');
    } else if (age < 45) {
      segments.add('age_35_44');
    } else {
      segments.add('age_45_plus');
    }
    
    // Purchase behavior segmentation
    final purchaseHistory = await _getPurchaseHistory(user.id);
    if (purchaseHistory.isEmpty) {
      segments.add('new_customer');
    } else if (purchaseHistory.length < 3) {
      segments.add('occasional_buyer');
    } else {
      segments.add('frequent_buyer');
    }
    
    // Value-based segmentation
    final totalSpent = purchaseHistory.fold(0.0, (sum, order) => sum + order.total);
    if (totalSpent < 100) {
      segments.add('low_value');
    } else if (totalSpent < 500) {
      segments.add('medium_value');
    } else {
      segments.add('high_value');
    }
    
    return segments;
  }
  
  static int _calculateAge(DateTime? dateOfBirth) {
    if (dateOfBirth == null) return 0;
    return DateTime.now().year - dateOfBirth.year;
  }
  
  static Future<List<Order>> _getPurchaseHistory(String userId) async {
    // Get purchase history from repository
    return [];
  }
}
```

## ğŸ“Š **Business Dashboards | Ù„ÙˆØ­Ø§Øª ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„**

### **1. Business Dashboard | Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„**
```dart
// lib/features/analytics/presentation/pages/business_dashboard.dart
class BusinessDashboard extends StatelessWidget {
  const BusinessDashboard({super.key});
  
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('Business Dashboard'),
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            const Text(
              'Key Business Metrics',
              style: TextStyle(fontSize: 24, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            _buildMetricsGrid(),
            const SizedBox(height: 24),
            const Text(
              'Revenue Analytics',
              style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            _buildRevenueChart(),
            const SizedBox(height: 24),
            const Text(
              'User Analytics',
              style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            _buildUserAnalytics(),
            const SizedBox(height: 24),
            const Text(
              'Conversion Funnel',
              style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            _buildConversionFunnel(),
          ],
        ),
      ),
    );
  }
  
  Widget _buildMetricsGrid() {
    return GridView.count(
      crossAxisCount: 2,
      shrinkWrap: true,
      physics: const NeverScrollableScrollPhysics(),
      childAspectRatio: 1.5,
      children: [
        _buildMetricCard('Total Revenue', '\$12,345', Colors.green),
        _buildMetricCard('Orders', '1,234', Colors.blue),
        _buildMetricCard('Conversion Rate', '5.2%', Colors.orange),
        _buildMetricCard('Avg Order Value', '\$45.67', Colors.purple),
      ],
    );
  }
  
  Widget _buildMetricCard(String title, String value, Color color) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              title,
              style: const TextStyle(fontSize: 14, color: Colors.grey),
            ),
            const SizedBox(height: 8),
            Text(
              value,
              style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold, color: color),
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildRevenueChart() {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16),
        child: Column(
          children: [
            const Text('Revenue Trend'),
            const SizedBox(height: 16),
            Container(
              height: 200,
              color: Colors.grey[200],
              child: const Center(
                child: Text('Revenue Chart'),
              ),
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildUserAnalytics() {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16),
        child: Column(
          children: [
            const Text('User Analytics'),
            const SizedBox(height: 16),
            Row(
              children: [
                Expanded(
                  child: _buildUserMetric('New Users', '234'),
                ),
                Expanded(
                  child: _buildUserMetric('Active Users', '1,234'),
                ),
                Expanded(
                  child: _buildUserMetric('Retention Rate', '78%'),
                ),
              ],
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildUserMetric(String title, String value) {
    return Column(
      children: [
        Text(
          value,
          style: const TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
        ),
        Text(
          title,
          style: const TextStyle(fontSize: 12, color: Colors.grey),
        ),
      ],
    );
  }
  
  Widget _buildConversionFunnel() {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(16),
        child: Column(
          children: [
            const Text('Conversion Funnel'),
            const SizedBox(height: 16),
            _buildFunnelStep('Product View', '1,000', '100%'),
            _buildFunnelStep('Add to Cart', '500', '50%'),
            _buildFunnelStep('Checkout', '100', '20%'),
            _buildFunnelStep('Purchase', '50', '50%'),
          ],
        ),
      ),
    );
  }
  
  Widget _buildFunnelStep(String step, String count, String rate) {
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 8),
      child: Row(
        mainAxisAlignment: MainAxisAlignment.spaceBetween,
        children: [
          Text(step),
          Text(count),
          Text(rate),
        ],
      ),
    );
  }
}
```

## ğŸ“‹ **Business Reports | Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©**

### **1. Business Report Generator | Ù…ÙˆÙ„Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©**
```dart
// lib/core/analytics/business_reports.dart
class BusinessReportGenerator {
  static Future<BusinessReport> generateDailyReport() async {
    final report = BusinessReport(
      date: DateTime.now(),
      type: ReportType.daily,
      metrics: await _getDailyMetrics(),
    );
    
    return report;
  }
  
  static Future<BusinessReport> generateWeeklyReport() async {
    final report = BusinessReport(
      date: DateTime.now(),
      type: ReportType.weekly,
      metrics: await _getWeeklyMetrics(),
    );
    
    return report;
  }
  
  static Future<BusinessReport> generateMonthlyReport() async {
    final report = BusinessReport(
      date: DateTime.now(),
      type: ReportType.monthly,
      metrics: await _getMonthlyMetrics(),
    );
    
    return report;
  }
  
  static Future<Map<String, dynamic>> _getDailyMetrics() async {
    return {
      'revenue': 1234.56,
      'orders': 23,
      'new_users': 45,
      'active_users': 234,
      'conversion_rate': 5.2,
      'avg_order_value': 53.67,
    };
  }
  
  static Future<Map<String, dynamic>> _getWeeklyMetrics() async {
    return {
      'revenue': 8765.43,
      'orders': 156,
      'new_users': 234,
      'active_users': 1234,
      'conversion_rate': 4.8,
      'avg_order_value': 56.19,
    };
  }
  
  static Future<Map<String, dynamic>> _getMonthlyMetrics() async {
    return {
      'revenue': 34567.89,
      'orders': 567,
      'new_users': 1234,
      'active_users': 5678,
      'conversion_rate': 5.1,
      'avg_order_value': 60.95,
    };
  }
}

class BusinessReport {
  final DateTime date;
  final ReportType type;
  final Map<String, dynamic> metrics;
  
  BusinessReport({
    required this.date,
    required this.type,
    required this.metrics,
  });
}

enum ReportType {
  daily,
  weekly,
  monthly,
}
```

## ğŸ“‹ **Implementation Checklist | Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªÙ†ÙÙŠØ°**

### **1. Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª | Analytics Platform**
- [ ] Ø¥Ø¹Ø¯Ø§Ø¯ Firebase Analytics
- [ ] ØªÙƒÙˆÙŠÙ† Ø¬Ù…Ø¹ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª
- [ ] Ø¥Ø¹Ø¯Ø§Ø¯ Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- [ ] Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª

### **2. Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø®ØµØµØ© | Custom Events**
- [ ] ØªØ·Ø¨ÙŠÙ‚ ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø®ØµØµØ©
- [ ] Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©
- [ ] Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- [ ] Ø§Ø®ØªØ¨Ø§Ø± ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«

### **3. Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ | Business Metrics**
- [ ] Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø£Ø¹Ù…Ø§Ù„
- [ ] ØªØ·Ø¨ÙŠÙ‚ ØªØªØ¨Ø¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„
- [ ] Ø¥Ø¶Ø§ÙØ© ØªØ¬Ø²Ø¦Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„

### **4. Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ | Business Dashboards**
- [ ] Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø§Øª Ø£Ø¹Ù…Ø§Ù„
- [ ] Ø¥Ø¶Ø§ÙØ© ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
- [ ] ØªØ·Ø¨ÙŠÙ‚ ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- [ ] Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù„ÙˆØ­Ø©

### **5. ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ | Business Reports**
- [ ] Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø¹Ù…Ø§Ù„
- [ ] Ø¥Ø¶Ø§ÙØ© Ø£ØªÙ…ØªØ© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- [ ] ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ²ÙŠØ¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

---

**Operations Document Complete!** âœ…

**Next Document**: 05-Advanced | Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
