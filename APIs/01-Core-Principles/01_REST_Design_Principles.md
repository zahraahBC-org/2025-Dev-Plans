# 01. ูุจุงุฏุฆ ุชุตููู REST | REST Design Principles

## ๐ฏ **ูุธุฑุฉ ุนุงูุฉ | Overview**

ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ ูุชุตููู ูุงุฌูุงุช RESTful API ุงูุชู ุชุชุจุน ุฃูุถู ุงูููุงุฑุณุงุช ุงูุนุงูููุฉ ูุชุถูู ูุงุจููุฉ ุงูุชูุณุน ูุงูุตูุงูุฉ.

**ุงููุฏู | Purpose**: ุชุญุฏูุฏ ุงููุนุงููุฑ ุงูุฃุณุงุณูุฉ ูุชุตููู REST  
**ุงูุฌูููุฑ | Audience**: ูุทูุฑู ุงูู Backendุ ูููุฏุณู ุงูู API  
**ุงููุชุทูุจุงุช | Prerequisites**: ููู ุฃุณุงุณู ูู HTTP ูJSON

---

## ๐ **ุฌุฏูู ุงููุญุชููุงุช | Table of Contents**

1. [ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ](#ุงููุจุงุฏุฆ-ุงูุฃุณุงุณูุฉ)
2. [ุชุตููู ููุฌู ุจุงูููุงุฑุฏ](#ุชุตููู-ููุฌู-ุจุงูููุงุฑุฏ)
3. [ุนุฏูู ุงูุญุงูุฉ](#ุนุฏูู-ุงูุญุงูุฉ)
4. [ุงูุชูุงูู ุงูุฎููู](#ุงูุชูุงูู-ุงูุฎููู)
5. [ูุนุงููุฑ ุงูุฌูุฏุฉ](#ูุนุงููุฑ-ุงูุฌูุฏุฉ)

---

## 1๏ธโฃ ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ | Core Principles {#ุงููุจุงุฏุฆ-ุงูุฃุณุงุณูุฉ}

### **ุงููุจุงุฏุฆ ุงูุณุชุฉ ูู REST**

#### **1. ูููุฐุฌ ุงูุนููู-ุงูุฎุงุฏู | Client-Server**
```
ุงูุนููู (Client) โท ุงูุฎุงุฏู (Server)
```

**ุงููุงุนุฏุฉ**:
- ูุตู ูุงูู ุจูู ูุงุฌูุฉ ุงููุณุชุฎุฏู (ุงูุนููู) ูุงูุฎุงุฏู
- ุงูุนููู ูุง ูุนุฑู ุนู ุชุฎุฒูู ุงูุจูุงูุงุช
- ุงูุฎุงุฏู ูุง ูุนุฑู ุนู ุญุงูุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู

**ุงูููุงุฆุฏ**:
- โ ุชุทููุฑ ูุณุชูู ููุนููู ูุงูุฎุงุฏู
- โ ูุงุจููุฉ ุงูุชูุณุน ุงูุฃููู
- โ ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุฎุงุฏู ูุนุฏุฉ ุนููุงุก

---

#### **2. ุนุฏูู ุงูุญุงูุฉ | Stateless**
```
ูู ุทูุจ โถ ูุณุชูู ุชูุงููุง โถ ูุง ุฌูุณุฉ ุนูู ุงูุฎุงุฏู
```

**ุงููุงุนุฏุฉ**:
- ูู ุทูุจ ูุญูู ูู ุงููุนูููุงุช ุงููุงุฒูุฉ
- ุงูุฎุงุฏู ูุง ูุญูุธ ุญุงูุฉ ุงูุนููู ุจูู ุงูุทูุจุงุช
- ุงููุตุงุฏูุฉ ูู ูู ุทูุจ (JWT/Token)

**ูุซุงู**:
```http
GET /api/v1/products/123
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Accept: application/json
Accept-Language: ar
```

**ุงูููุงุฆุฏ**:
- โ ูุงุจููุฉ ุชูุณุน ุฃูุถู
- โ ุงุณุชุฑุฌุงุน ุฃุณูู ูู ุงูุฃุนุทุงู
- โ ุชุฎุฒูู ูุคูุช ุฃูุซุฑ ูุนุงููุฉ

---

#### **3. ูุงุจููุฉ ุงูุชุฎุฒูู ุงููุคูุช | Cacheable**
```
ุงูุทูุจ โถ [Cache] โถ ุงูุฎุงุฏู
       โ
    ุงูุงุณุชุฌุงุจุฉ (ูุน ุชุนูููุงุช ุงูุชุฎุฒูู)
```

**ุงููุงุนุฏุฉ**:
- ุงูุงุณุชุฌุงุจุงุช ูุฌุจ ุฃู ุชูุนุฑูู ููุณูุง ููุงุจูุฉ ููุชุฎุฒูู ุฃู ูุง
- ุงุณุชุฎุฏุงู ุฑุคูุณ HTTP ุงูููุงุณูุฉ

**ุฑุคูุณ ุงูุชุฎุฒูู ุงููุคูุช**:
```http
Cache-Control: public, max-age=3600
ETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"
Last-Modified: Wed, 08 Jan 2025 12:00:00 GMT
```

**ุงูููุงุฆุฏ**:
- โ ุชูููู ุนุฏุฏ ุงูุทูุจุงุช ููุฎุงุฏู
- โ ุงุณุชุฌุงุจุฉ ุฃุณุฑุน ููุนููู
- โ ุชูููู ุงูุญูู ุนูู ุงูุดุจูุฉ

---

#### **4. ูุงุฌูุฉ ููุญุฏุฉ | Uniform Interface**
```
ููุงุฑุฏ (Resources) โถ ุทุฑู ููุงุณูุฉ (HTTP Methods) โถ ุชูุซููุงุช (Representations)
```

**ุงููุงุนุฏุฉ**:
- ุชุญุฏูุฏ ุงูููุงุฑุฏ ุจู URIs
- ุงูุชุนุงูู ูุน ุงูููุงุฑุฏ ุนุจุฑ ุงูุชูุซููุงุช (JSON)
- ุฑุณุงุฆู ุฐุงุชูุฉ ุงููุตู
- HATEOAS (ุงุฎุชูุงุฑู ููู ููุตู ุจู)

**ูุซุงู**:
```json
{
  "id": 123,
  "name": "ูุณุชุงู ุตููู",
  "price": 299.00,
  "links": {
    "self": "/api/v1/products/123",
    "variants": "/api/v1/products/123/variants",
    "reviews": "/api/v1/products/123/reviews"
  }
}
```

---

#### **5. ูุธุงู ุทุจูู | Layered System**
```
ุงูุนููู โถ CDN โถ Load Balancer โถ API Gateway โถ ุฎุฏูุงุช ุงูู API โถ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

**ุงููุงุนุฏุฉ**:
- ุงูุนููู ูุง ูุนุฑู ุจุงูุทุจูุงุช ุงููุณูุทุฉ
- ูู ุทุจูุฉ ุชุคุฏู ุฏูุฑูุง ูุญุฏุฏูุง
- ุฅููุงููุฉ ุฅุถุงูุฉ ุทุจูุงุช ุฌุฏูุฏุฉ ุจุฏูู ุชุฃุซูุฑ

**ุงูุทุจูุงุช ุงููููุฐุฌูุฉ**:
1. **CDN/Edge**: ุชุฎุฒูู ูุคูุช ุซุงุจุช
2. **WAF**: ุญูุงูุฉ ูู ุงููุฌูุงุช
3. **Load Balancer**: ุชูุฒูุน ุงูุญูู
4. **API Gateway**: ูุตุงุฏูุฉุ ูุนุฏู ุทูุจุงุชุ ุชูุฌูู
5. **Application Layer**: ููุทู ุงูุฃุนูุงู
6. **Data Layer**: ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

#### **6. ุงูููุฏ ุนูุฏ ุงูุทูุจ | Code on Demand (ุงุฎุชูุงุฑู)**
```
ุงูุฎุงุฏู โถ ุฅุฑุฌุงุน ููุฏ ูุงุจู ููุชูููุฐ (JavaScriptุ ุฅูุฎ)
```

**ุงููุงุนุฏุฉ**:
- ุงูุฎุงุฏู ูููู ุฃู ูุฑุณู ููุฏูุง ูุงุจูุงู ููุชูููุฐ
- **ูุงุฏุฑ ุงูุงุณุชุฎุฏุงู** ูู REST APIs ุงูุญุฏูุซุฉ
- **ุบูุฑ ูุทุจู** ูู ุฒูุฑุงุก (ูุณุชุฎุฏู JSON ููุท)

---

## 2๏ธโฃ ุชุตููู ููุฌู ุจุงูููุงุฑุฏ | Resource-Oriented Design {#ุชุตููู-ููุฌู-ุจุงูููุงุฑุฏ}

### **ุงูููููู ุงูุฃุณุงุณู**
ูู ุดูุก ูู ุงูู API ูู **ููุฑุฏ (Resource)** ูููู ุชุญุฏูุฏู ูุงูุชุนุงูู ูุนู.

### **ุชุญุฏูุฏ ุงูููุงุฑุฏ | Resource Identification**

#### **ุงูููุงุฑุฏ ุงูุฑุฆูุณูุฉ ูู ุฒูุฑุงุก**
```
/products         - ุงูููุชุฌุงุช
/categories       - ุงููุฆุงุช
/customers        - ุงูุนููุงุก
/orders           - ุงูุทูุจุงุช
/payments         - ุงููุฏููุนุงุช
/shipments        - ุงูุดุญูุงุช
/returns          - ุงููุฑุชุฌุนุงุช
/reviews          - ุงููุฑุงุฌุนุงุช
/wishlists        - ููุงุฆู ุงูุฑุบุจุงุช
/carts            - ุงูุณูุงุช
```

#### **ููุงุนุฏ ุงูุชุณููุฉ**
โ **ุงูุนู | DO**
```
/products              โ ุงุณู ุงูุฌูุน
/products/123          โ ูุนุฑู ูุญุฏุฏ
/products/123/reviews  โ ููุฑุฏ ูุฑุนู
/orders                โ ุฃุณูุงุก ูุงุถุญุฉ
```

โ **ูุง ุชูุนู | DON'T**
```
/getProducts           โ ูุง ุฃูุนุงู ูู ุงููุณุงุฑ
/product               โ ูุง ุตูุบุฉ ุงูููุฑุฏ
/products-list         โ ูุง ุดุฑุทุงุช ุบูุฑ ุถุฑูุฑูุฉ
/api_products          โ ุงุณุชุฎุฏู ุดุฑุทุงุช ูููุณ ุดุฑุทุงุช ุณูููุฉ
```

---

### **ุงูุชูุซููุงุช | Representations**

#### **ุชูุณูู JSON ุงูููุงุณู**
```json
{
  "data": {
    "id": 123,
    "type": "product",
    "attributes": {
      "name_ar": "ูุณุชุงู ุตููู ุจุงููุฑูุฏ",
      "name_en": "Floral Summer Dress",
      "price": 299.00,
      "currency": "SAR",
      "is_available": true
    },
    "relationships": {
      "brand": {
        "data": { "type": "brands", "id": 45 }
      },
      "category": {
        "data": { "type": "categories", "id": 12 }
      }
    }
  },
  "included": [
    {
      "id": 45,
      "type": "brands",
      "attributes": { "name": "ูุงุดู ุจูุณ" }
    }
  ]
}
```

---

## 3๏ธโฃ ุนุฏูู ุงูุญุงูุฉ | Stateless {#ุนุฏูู-ุงูุญุงูุฉ}

### **ุงููุตุงุฏูุฉ | Authentication**

#### **ูููุฐุฌ JWT**
```http
POST /api/v1/auth/login
Content-Type: application/json

{
  "phone": "+966501234567",
  "otp": "123456"
}

โถ ุงูุงุณุชุฌุงุจุฉ

{
  "access_token": "eyJhbGciOiJIUzI1NiIs...",
  "refresh_token": "dGhpc2lzYXJlZnJlc2h0b2tlbg...",
  "expires_in": 900
}
```

#### **ุงุณุชุฎุฏุงู ุงูุฑูุฒ**
```http
GET /api/v1/orders
Authorization: Bearer eyJhbGciOiJIUzI1NiIs...
```

**ุงูููุงุนุฏ**:
- โ ุงูุฑูุฒ ูู ูู ุทูุจ
- โ ูุตูุฑ ุงูุนูุฑ (15 ุฏูููุฉ)
- โ ุชุฌุฏูุฏ ุนุจุฑ refresh_token
- โ ูุง ุฌูุณุงุช ุนูู ุงูุฎุงุฏู

---

### **ูุนูููุงุช ุงูุณูุงู | Context Information**

#### **ุฑุคูุณ ูุทููุจุฉ ูู ูู ุทูุจ**
```http
Authorization: Bearer <token>
Accept: application/json
Accept-Language: ar
Content-Type: application/json
X-Request-ID: uuid-here
```

**ุงูููุงุฆุฏ**:
- ุงูุณูุงู ุงููุงูู ูู ุงูุทูุจ
- ูุงุจููุฉ ุงูุชุชุจุน ุนุจุฑ X-Request-ID
- ูุงุจููุฉ ุงูุชูุณุน ุงูุฃููู

---

## 4๏ธโฃ ุงูุชูุงูู ุงูุฎููู | Backward Compatibility {#ุงูุชูุงูู-ุงูุฎููู}

### **ุงูุฅุตุฏุงุฑุงุช | Versioning**

#### **ูู ุงููุณุงุฑ (ููุตู ุจู)**
```
/api/v1/products
/api/v2/products
```

**ุงูููุงุนุฏ**:
- โ ุฅุตุฏุงุฑ ุฑุฆูุณู ููุท ูู ุงููุณุงุฑ
- โ ุชุดุบูู ูุชุฒุงูู ูุนุฏุฉ ุฅุตุฏุงุฑุงุช
- โ ูุชุฑุฉ ุฅููุงู โฅ 90 ููู

---

### **ุงูุชุบููุฑุงุช ุงููุชูุงููุฉ | Compatible Changes**

#### **โ ุขููุฉ (ูุง ุชูุณุฑ ุงูุชูุงูู)**
```json
// ุฅุถุงูุฉ ุญูู ุฌุฏูุฏ ุงุฎุชูุงุฑู
{
  "name": "ูุณุชุงู",
  "price": 299.00,
  "discount": 50.00  โ ุฌุฏูุฏุ ุงุฎุชูุงุฑู
}

// ุฅุถุงูุฉ ููุฑุฏ ูุฑุนู ุฌุฏูุฏ
/api/v1/products/123/recommendations  โ ุฌุฏูุฏ

// ุฅุถุงูุฉ ูุนุงูู ุงุฎุชูุงุฑู
GET /api/v1/products?brand=nike  โ ุฌุฏูุฏุ ุงุฎุชูุงุฑู
```

---

### **ุงูุชุบููุฑุงุช ุงููุงุณุฑุฉ | Breaking Changes**

#### **โ ุชุชุทูุจ ุฅุตุฏุงุฑ ุฌุฏูุฏ**
```json
// ุฅุฒุงูุฉ ุญูู
{
  "name": "ูุณุชุงู",
  // "old_field": "removed"  โ ูุณุฑ ุงูุชูุงูู
}

// ุชุบููุฑ ููุน ุงูุจูุงูุงุช
{
  "price": "299.00"  โ ูุงู ุฑูููุงุ ุฃุตุจุญ ูุตูุง
}

// ุชุบููุฑ ุงุณู ุงูุญูู
{
  "product_name": "ูุณุชุงู"  โ ูุงู "name"
}

// ุฌุนู ุญูู ุงุฎุชูุงุฑู ุฅูุฒุงูููุง
{
  "email": "required@now.com"  โ ูุงู ุงุฎุชูุงุฑููุง
}
```

**ุงูุญู**: ุฅุตุฏุงุฑ `/api/v2` ุฌุฏูุฏ + ูุชุฑุฉ ุงูุชูุงู

---

## 5๏ธโฃ ูุนุงููุฑ ุงูุฌูุฏุฉ | Quality Standards {#ูุนุงููุฑ-ุงูุฌูุฏุฉ}

### **ูุนุงููุฑ ุงููุจูู | Acceptance Criteria**

โ **ุงูุชูุญูุฏ | Consistency**
- [ ] ุฌููุน ุงูููุงุฑุฏ ุชุชุจุน ููุณ ุงูููุท
- [ ] ุฃุณูุงุก ุงูุญููู ุจุตูุบุฉ `snake_case`
- [ ] ุงูุชูุงุฑูุฎ ุจุชูุณูู ISO-8601 UTC
- [ ] ุงูุฃุฎุทุงุก ุจูููุฐุฌ ููุญุฏ

โ **ุงูุชูุซูู | Documentation**
- [ ] ูู ููุฑุฏ ููุซู ูู OpenAPI
- [ ] ุฃูุซูุฉ ูุงููุฉ ููุทูุจุงุช ูุงูุงุณุชุฌุงุจุงุช
- [ ] ุญุงูุงุช ุงูุฃุฎุทุงุก ููุซูุฉ

โ **ุงูุฃูุงู | Security**
- [ ] ุงููุตุงุฏูุฉ ุฅูุฒุงููุฉ
- [ ] TLS ููุท
- [ ] Rate Limiting ูุทุจู

---

## ๐ **ูุคุดุฑุงุช ุงูุฃุฏุงุก | Performance Metrics**

| ุงููุคุดุฑ | ุงููุฏู | ุงูููุงุณ |
|--------|-------|--------|
| ุฒูู ุงูุงุณุชุฌุงุจุฉ P95 | โค 300ms | ูู ุงููุฑุงูุจุฉ |
| ูุนุฏู ุงููุฌุงุญ | โฅ 99.9% | ุฅุฌูุงูู 2xx / ุฅุฌูุงูู ุงูุทูุจุงุช |
| ูุนุฏู ุงูุชุฎุฒูู ุงููุคูุช | โฅ 80% | Cache Hits / ุฅุฌูุงูู GET |

---

## โ **ูุงุฆูุฉ ุงูุชุญูู | Checklist**

### **ุนูุฏ ุชุตููู ููุฑุฏ ุฌุฏูุฏ**
- [ ] ูู ุงุณู ุงูููุฑุฏ ุจุตูุบุฉ ุงูุฌูุนุ
- [ ] ูู ุงููุณุงุฑ ุฎุงูู ูู ุงูุฃูุนุงูุ
- [ ] ูู ุงูุงุณุชุฌุงุจุฉ JSON ุตุญูุญุฉุ
- [ ] ูู ุงูุฃุฎุทุงุก ุจุงููููุฐุฌ ุงูููุญุฏุ
- [ ] ูู ุงููุตุงุฏูุฉ ูุทููุจุฉุ
- [ ] ูู ููุงู ุฃูุซูุฉ ูู OpenAPIุ
- [ ] ูู ุงุฎุชุจุงุฑุงุช ุงูุนูุฏ ุชูุฑุ

---

## ๐ **ุงูุชููู | Navigation**

[โ ุงูุณุงุจู: ููุฑุณ ุงูู API | Previous: API Index](../index.md)

[ุงูุชุงูู: ุงูุฅุตุฏุงุฑ ูุงููุณุงุฑุงุช | Next: Versioning & URLs โ](02_Versioning_URLs.md)

[๐ ุงูุนูุฏุฉ ููููุฑุณ | Back to Index](../index.md)

---

## ๐ **ุงููุฑุงุฌุน | References**

- [REST API Design Best Practices](https://www.restapitutorial.com/)
- [Richardson Maturity Model](https://martinfowler.com/articles/richardsonMaturityModel.html)
- [RESTful API Design - Microsoft](https://docs.microsoft.com/en-us/azure/architecture/best-practices/api-design)
- [HTTP RFC 7231](https://tools.ietf.org/html/rfc7231)

---

**ุงูุฅุตุฏุงุฑ | Version**: 1.0  
**ุขุฎุฑ ุชุญุฏูุซ | Last Updated**: 2025-01-08  
**ุงูุญุงูุฉ | Status**: โ ูุฑุงุฌุน ููุนุชูุฏ | Reviewed and Approved